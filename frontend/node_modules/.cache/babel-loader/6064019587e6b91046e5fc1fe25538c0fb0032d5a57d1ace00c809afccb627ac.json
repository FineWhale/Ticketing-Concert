{"ast":null,"code":"function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport { clsx } from 'clsx';\nimport { getDOM } from \"@rc-component/util/es/Dom/findDOMNode\";\nimport * as React from 'react';\nimport { useAllowClear } from \"../hooks/useAllowClear\";\nimport { BaseSelectContext } from \"../hooks/useBaseProps\";\nimport useLock from \"../hooks/useLock\";\nimport useSelectTriggerControl, { isInside } from \"../hooks/useSelectTriggerControl\";\nimport SelectTrigger from \"../SelectTrigger\";\nimport { getSeparatedContent, isValidCount } from \"../utils/valueUtil\";\nimport Polite from \"./Polite\";\nimport useOpen, { macroTask } from \"../hooks/useOpen\";\nimport { useEvent } from '@rc-component/util';\nimport SelectInput from \"../SelectInput\";\nimport useComponents from \"../hooks/useComponents\";\n\n/**\n * ZombieJ:\n * We are currently refactoring the semantic structure of the component. Changelog:\n * - Remove `suffixIcon` and change to `suffix`.\n * - Add `components.root` for replacing response element.\n *   - Remove `getInputElement` and `getRawInputElement` since we can use `components.input` instead.\n */\n\nexport const isMultiple = mode => mode === 'tags' || mode === 'multiple';\nconst BaseSelect = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    id,\n    prefixCls,\n    className,\n    styles,\n    classNames,\n    showSearch,\n    tagRender,\n    showScrollBar = 'optional',\n    direction,\n    omitDomProps,\n    // Value\n    displayValues,\n    onDisplayValuesChange,\n    emptyOptions,\n    notFoundContent = 'Not Found',\n    onClear,\n    maxCount,\n    placeholder,\n    // Mode\n    mode,\n    // Status\n    disabled,\n    loading,\n    // Customize Input\n    getInputElement,\n    getRawInputElement,\n    // Open\n    open,\n    defaultOpen,\n    onPopupVisibleChange,\n    // Active\n    activeValue,\n    onActiveValueChange,\n    activeDescendantId,\n    // Search\n    searchValue,\n    autoClearSearchValue,\n    onSearch,\n    onSearchSplit,\n    tokenSeparators,\n    // Icons\n    allowClear,\n    prefix,\n    suffix,\n    suffixIcon,\n    clearIcon,\n    // Dropdown\n    OptionList,\n    animation,\n    transitionName,\n    popupStyle,\n    popupClassName,\n    popupMatchSelectWidth,\n    popupRender,\n    popupAlign,\n    placement,\n    builtinPlacements,\n    getPopupContainer,\n    // Focus\n    showAction = [],\n    onFocus,\n    onBlur,\n    // Rest Events\n    onKeyUp,\n    onKeyDown,\n    onMouseDown,\n    // Components\n    components,\n    // Rest Props\n    ...restProps\n  } = props;\n\n  // ============================== MISC ==============================\n  const multiple = isMultiple(mode);\n\n  // ============================== Refs ==============================\n  const containerRef = React.useRef(null);\n  const triggerRef = React.useRef(null);\n  const listRef = React.useRef(null);\n\n  /** Used for component focused management */\n  const [focused, setFocused] = React.useState(false);\n\n  // =========================== Imperative ===========================\n  React.useImperativeHandle(ref, () => ({\n    focus: containerRef.current?.focus,\n    blur: containerRef.current?.blur,\n    scrollTo: arg => listRef.current?.scrollTo(arg),\n    nativeElement: getDOM(containerRef.current)\n  }));\n\n  // =========================== Components ===========================\n  const mergedComponents = useComponents(components, getInputElement, getRawInputElement);\n\n  // ========================== Search Value ==========================\n  const mergedSearchValue = React.useMemo(() => {\n    if (mode !== 'combobox') {\n      return searchValue;\n    }\n    const val = displayValues[0]?.value;\n    return typeof val === 'string' || typeof val === 'number' ? String(val) : '';\n  }, [searchValue, mode, displayValues]);\n\n  // ========================== Custom Input ==========================\n  // Only works in `combobox`\n  const customizeInputElement = mode === 'combobox' && typeof getInputElement === 'function' && getInputElement() || null;\n\n  // ============================== Open ==============================\n  // Not trigger `open` when `notFoundContent` is empty\n  const emptyListContent = !notFoundContent && emptyOptions;\n  const [rawOpen, mergedOpen, triggerOpen, lockOptions] = useOpen(defaultOpen || false, open, onPopupVisibleChange, nextOpen => disabled || emptyListContent ? false : nextOpen);\n\n  // ============================= Search =============================\n  const tokenWithEnter = React.useMemo(() => (tokenSeparators || []).some(tokenSeparator => ['\\n', '\\r\\n'].includes(tokenSeparator)), [tokenSeparators]);\n  const onInternalSearch = (searchText, fromTyping, isCompositing) => {\n    if (multiple && isValidCount(maxCount) && displayValues.length >= maxCount) {\n      return;\n    }\n    let ret = true;\n    let newSearchText = searchText;\n    onActiveValueChange?.(null);\n    const separatedList = getSeparatedContent(searchText, tokenSeparators, isValidCount(maxCount) ? maxCount - displayValues.length : undefined);\n\n    // Check if match the `tokenSeparators`\n    const patchLabels = isCompositing ? null : separatedList;\n\n    // Ignore combobox since it's not split-able\n    if (mode !== 'combobox' && patchLabels) {\n      newSearchText = '';\n      onSearchSplit?.(patchLabels);\n\n      // Should close when paste finish\n      triggerOpen(false);\n\n      // Tell Selector that break next actions\n      ret = false;\n    }\n    if (onSearch && mergedSearchValue !== newSearchText) {\n      onSearch(newSearchText, {\n        source: fromTyping ? 'typing' : 'effect'\n      });\n    }\n\n    // Open if from typing\n    if (searchText && fromTyping && ret) {\n      triggerOpen(true);\n    }\n    return ret;\n  };\n\n  // Only triggered when menu is closed & mode is tags\n  // If menu is open, OptionList will take charge\n  // If mode isn't tags, press enter is not meaningful when you can't see any option\n  const onInternalSearchSubmit = searchText => {\n    // prevent empty tags from appearing when you click the Enter button\n    if (!searchText || !searchText.trim()) {\n      return;\n    }\n    onSearch(searchText, {\n      source: 'submit'\n    });\n  };\n\n  // Clean up search value when the dropdown is closed.\n  // We use `rawOpen` here to avoid clearing the search input when the dropdown is\n  // programmatically closed due to `notFoundContent={null}` and no matching options.\n  // This allows the user to continue typing their search query.\n  React.useEffect(() => {\n    if (!rawOpen && !multiple && mode !== 'combobox') {\n      onInternalSearch('', false, false);\n    }\n  }, [rawOpen]);\n\n  // ============================ Disabled ============================\n  // Close dropdown & remove focus state when disabled change\n  React.useEffect(() => {\n    // After onBlur is triggered, the focused does not need to be reset\n    if (disabled) {\n      triggerOpen(false);\n      setFocused(false);\n    }\n  }, [disabled, mergedOpen]);\n\n  // ============================ Keyboard ============================\n  /**\n   * We record input value here to check if can press to clean up by backspace\n   * - null: Key is not down, this is reset by key up\n   * - true: Search text is empty when first time backspace down\n   * - false: Search text is not empty when first time backspace down\n   */\n  const [getClearLock, setClearLock] = useLock();\n  const keyLockRef = React.useRef(false);\n\n  // KeyDown\n  const onInternalKeyDown = event => {\n    const clearLock = getClearLock();\n    const {\n      key\n    } = event;\n    const isEnterKey = key === 'Enter';\n    const isSpaceKey = key === ' ';\n\n    // Enter or Space opens dropdown (ARIA combobox: spacebar should open)\n    if (isEnterKey || isSpaceKey) {\n      // Do not submit form when type in the input; prevent Space from scrolling page\n      if (mode !== 'combobox') {\n        event.preventDefault();\n      }\n\n      // We only manage open state here, close logic should handle by list component\n      if (!mergedOpen) {\n        triggerOpen(true);\n      }\n    }\n    setClearLock(!!mergedSearchValue);\n\n    // Remove value by `backspace`\n    if (key === 'Backspace' && !clearLock && multiple && !mergedSearchValue && displayValues.length) {\n      const cloneDisplayValues = [...displayValues];\n      let removedDisplayValue = null;\n      for (let i = cloneDisplayValues.length - 1; i >= 0; i -= 1) {\n        const current = cloneDisplayValues[i];\n        if (!current.disabled) {\n          cloneDisplayValues.splice(i, 1);\n          removedDisplayValue = current;\n          break;\n        }\n      }\n      if (removedDisplayValue) {\n        onDisplayValuesChange(cloneDisplayValues, {\n          type: 'remove',\n          values: [removedDisplayValue]\n        });\n      }\n    }\n    if (mergedOpen && (!isEnterKey || !keyLockRef.current) && !isSpaceKey) {\n      // Lock the Enter key after it is pressed to avoid repeated triggering of the onChange event.\n      if (isEnterKey) {\n        keyLockRef.current = true;\n      }\n      listRef.current?.onKeyDown(event);\n    }\n    onKeyDown?.(event);\n  };\n\n  // KeyUp\n  const onInternalKeyUp = (event, ...rest) => {\n    if (mergedOpen) {\n      listRef.current?.onKeyUp(event, ...rest);\n    }\n    if (event.key === 'Enter') {\n      keyLockRef.current = false;\n    }\n    onKeyUp?.(event, ...rest);\n  };\n\n  // ============================ Selector ============================\n  const onSelectorRemove = useEvent(val => {\n    const newValues = displayValues.filter(i => i !== val);\n    onDisplayValuesChange(newValues, {\n      type: 'remove',\n      values: [val]\n    });\n  });\n  const onInputBlur = () => {\n    // Unlock the Enter key after the input blur; otherwise, the Enter key needs to be pressed twice to trigger the correct effect.\n    keyLockRef.current = false;\n  };\n\n  // ========================== Focus / Blur ==========================\n  const getSelectElements = () => [getDOM(containerRef.current), triggerRef.current?.getPopupElement()];\n\n  // Close when click on non-select element\n  useSelectTriggerControl(getSelectElements, mergedOpen, triggerOpen, !!mergedComponents.root);\n\n  // ========================== Focus / Blur ==========================\n  const internalMouseDownRef = React.useRef(false);\n  const onInternalFocus = event => {\n    setFocused(true);\n    if (!disabled) {\n      // `showAction` should handle `focus` if set\n      if (showAction.includes('focus')) {\n        triggerOpen(true);\n      }\n      onFocus?.(event);\n    }\n  };\n  const onRootBlur = () => {\n    // Delay close should check the activeElement\n    if (mergedOpen && !internalMouseDownRef.current) {\n      triggerOpen(false, {\n        cancelFun: () => isInside(getSelectElements(), document.activeElement)\n      });\n    }\n  };\n  const onInternalBlur = event => {\n    setFocused(false);\n    if (mergedSearchValue) {\n      // `tags` mode should move `searchValue` into values\n      if (mode === 'tags') {\n        onSearch(mergedSearchValue, {\n          source: 'submit'\n        });\n      } else if (mode === 'multiple') {\n        // `multiple` mode only clean the search value but not trigger event\n        onSearch('', {\n          source: 'blur'\n        });\n      }\n    }\n    onRootBlur();\n    if (!disabled) {\n      onBlur?.(event);\n    }\n  };\n  const onRootMouseDown = (event, ...restArgs) => {\n    const {\n      target\n    } = event;\n    const popupElement = triggerRef.current?.getPopupElement();\n\n    // We should give focus back to selector if clicked item is not focusable\n    if (popupElement?.contains(target) && triggerOpen) {\n      // Tell `open` not to close since it's safe in the popup\n      triggerOpen(true);\n    }\n    onMouseDown?.(event, ...restArgs);\n    internalMouseDownRef.current = true;\n    macroTask(() => {\n      internalMouseDownRef.current = false;\n    });\n  };\n\n  // ============================ Dropdown ============================\n  const [, forceUpdate] = React.useState({});\n  // We need force update here since popup dom is render async\n  function onPopupMouseEnter() {\n    forceUpdate({});\n  }\n\n  // Used for raw custom input trigger\n  let onTriggerVisibleChange;\n  if (!!mergedComponents.root) {\n    onTriggerVisibleChange = newOpen => {\n      triggerOpen(newOpen);\n    };\n  }\n\n  // ============================ Context =============================\n  const baseSelectContext = React.useMemo(() => ({\n    ...props,\n    notFoundContent,\n    open: mergedOpen,\n    triggerOpen: mergedOpen,\n    rawOpen,\n    id,\n    showSearch,\n    multiple,\n    toggleOpen: triggerOpen,\n    showScrollBar,\n    styles,\n    classNames,\n    lockOptions\n  }), [props, notFoundContent, triggerOpen, id, showSearch, multiple, mergedOpen, rawOpen, showScrollBar, styles, classNames, lockOptions]);\n\n  // ==================================================================\n  // ==                            Render                            ==\n  // ==================================================================\n\n  // ============================= Suffix =============================\n  const mergedSuffixIcon = React.useMemo(() => {\n    const nextSuffix = suffix ?? suffixIcon;\n    if (typeof nextSuffix === 'function') {\n      return nextSuffix({\n        searchValue: mergedSearchValue,\n        open: mergedOpen,\n        focused,\n        showSearch,\n        loading\n      });\n    }\n    return nextSuffix;\n  }, [suffix, suffixIcon, mergedSearchValue, mergedOpen, focused, showSearch, loading]);\n\n  // ============================= Clear ==============================\n  const onClearMouseDown = () => {\n    onClear?.();\n    containerRef.current?.focus();\n    onDisplayValuesChange([], {\n      type: 'clear',\n      values: displayValues\n    });\n    onInternalSearch('', false, false);\n  };\n  const {\n    allowClear: mergedAllowClear,\n    clearIcon: clearNode\n  } = useAllowClear(prefixCls, displayValues, allowClear, clearIcon, disabled, mergedSearchValue, mode);\n\n  // =========================== OptionList ===========================\n  const optionList = /*#__PURE__*/React.createElement(OptionList, {\n    ref: listRef\n  });\n\n  // ============================= Select =============================\n  const mergedClassName = clsx(prefixCls, className, {\n    [`${prefixCls}-focused`]: focused,\n    [`${prefixCls}-multiple`]: multiple,\n    [`${prefixCls}-single`]: !multiple,\n    [`${prefixCls}-allow-clear`]: mergedAllowClear,\n    [`${prefixCls}-show-arrow`]: mergedSuffixIcon !== undefined && mergedSuffixIcon !== null,\n    [`${prefixCls}-disabled`]: disabled,\n    [`${prefixCls}-loading`]: loading,\n    [`${prefixCls}-open`]: mergedOpen,\n    [`${prefixCls}-customize-input`]: customizeInputElement,\n    [`${prefixCls}-show-search`]: showSearch\n  });\n\n  // >>> Render\n  let renderNode = /*#__PURE__*/React.createElement(SelectInput, _extends({}, restProps, {\n    // Ref\n    ref: containerRef\n    // Style\n    ,\n\n    prefixCls: prefixCls,\n    className: mergedClassName\n    // Focus state\n    ,\n\n    focused: focused\n    // UI\n    ,\n\n    prefix: prefix,\n    suffix: mergedSuffixIcon,\n    clearIcon: clearNode\n    // Type or mode\n    ,\n\n    multiple: multiple,\n    mode: mode\n    // Values\n    ,\n\n    displayValues: displayValues,\n    placeholder: placeholder,\n    searchValue: mergedSearchValue,\n    activeValue: activeValue,\n    onSearch: onInternalSearch,\n    onSearchSubmit: onInternalSearchSubmit,\n    onInputBlur: onInputBlur,\n    onFocus: onInternalFocus,\n    onBlur: onInternalBlur,\n    onClearMouseDown: onClearMouseDown,\n    onKeyDown: onInternalKeyDown,\n    onKeyUp: onInternalKeyUp,\n    onSelectorRemove: onSelectorRemove\n    // Token handling\n    ,\n\n    tokenWithEnter: tokenWithEnter\n    // Open\n    ,\n\n    onMouseDown: onRootMouseDown\n    // Components\n    ,\n\n    components: mergedComponents\n  }));\n  renderNode = /*#__PURE__*/React.createElement(SelectTrigger, {\n    ref: triggerRef,\n    disabled: disabled,\n    prefixCls: prefixCls,\n    visible: mergedOpen,\n    popupElement: optionList,\n    animation: animation,\n    transitionName: transitionName,\n    popupStyle: popupStyle,\n    popupClassName: popupClassName,\n    direction: direction,\n    popupMatchSelectWidth: popupMatchSelectWidth,\n    popupRender: popupRender,\n    popupAlign: popupAlign,\n    placement: placement,\n    builtinPlacements: builtinPlacements,\n    getPopupContainer: getPopupContainer,\n    empty: emptyOptions,\n    onPopupVisibleChange: onTriggerVisibleChange,\n    onPopupMouseEnter: onPopupMouseEnter,\n    onPopupMouseDown: onRootMouseDown,\n    onPopupBlur: onRootBlur\n  }, renderNode);\n  return /*#__PURE__*/React.createElement(BaseSelectContext.Provider, {\n    value: baseSelectContext\n  }, /*#__PURE__*/React.createElement(Polite, {\n    visible: focused && !mergedOpen,\n    values: displayValues\n  }), renderNode);\n});\n\n// Set display name for dev\nif (process.env.NODE_ENV !== 'production') {\n  BaseSelect.displayName = 'BaseSelect';\n}\nexport default BaseSelect;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","clsx","getDOM","React","useAllowClear","BaseSelectContext","useLock","useSelectTriggerControl","isInside","SelectTrigger","getSeparatedContent","isValidCount","Polite","useOpen","macroTask","useEvent","SelectInput","useComponents","isMultiple","mode","BaseSelect","forwardRef","props","ref","id","prefixCls","className","styles","classNames","showSearch","tagRender","showScrollBar","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","maxCount","placeholder","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onPopupVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffix","suffixIcon","clearIcon","OptionList","animation","transitionName","popupStyle","popupClassName","popupMatchSelectWidth","popupRender","popupAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","components","restProps","multiple","containerRef","useRef","triggerRef","listRef","focused","setFocused","useState","useImperativeHandle","focus","current","blur","scrollTo","arg","nativeElement","mergedComponents","mergedSearchValue","useMemo","val","value","String","customizeInputElement","emptyListContent","rawOpen","mergedOpen","triggerOpen","lockOptions","nextOpen","tokenWithEnter","some","tokenSeparator","includes","onInternalSearch","searchText","fromTyping","isCompositing","ret","newSearchText","separatedList","undefined","patchLabels","onInternalSearchSubmit","trim","useEffect","getClearLock","setClearLock","keyLockRef","onInternalKeyDown","event","clearLock","isEnterKey","isSpaceKey","preventDefault","cloneDisplayValues","removedDisplayValue","splice","type","values","onInternalKeyUp","rest","onSelectorRemove","newValues","filter","onInputBlur","getSelectElements","getPopupElement","root","internalMouseDownRef","onInternalFocus","onRootBlur","cancelFun","document","activeElement","onInternalBlur","onRootMouseDown","restArgs","popupElement","contains","forceUpdate","onPopupMouseEnter","onTriggerVisibleChange","newOpen","baseSelectContext","toggleOpen","mergedSuffixIcon","nextSuffix","onClearMouseDown","mergedAllowClear","clearNode","optionList","createElement","mergedClassName","renderNode","onSearchSubmit","visible","empty","onPopupMouseDown","onPopupBlur","Provider","process","env","NODE_ENV","displayName"],"sources":["D:/ZSM/beachboys-concert/frontend/node_modules/@rc-component/select/es/BaseSelect/index.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { clsx } from 'clsx';\nimport { getDOM } from \"@rc-component/util/es/Dom/findDOMNode\";\nimport * as React from 'react';\nimport { useAllowClear } from \"../hooks/useAllowClear\";\nimport { BaseSelectContext } from \"../hooks/useBaseProps\";\nimport useLock from \"../hooks/useLock\";\nimport useSelectTriggerControl, { isInside } from \"../hooks/useSelectTriggerControl\";\nimport SelectTrigger from \"../SelectTrigger\";\nimport { getSeparatedContent, isValidCount } from \"../utils/valueUtil\";\nimport Polite from \"./Polite\";\nimport useOpen, { macroTask } from \"../hooks/useOpen\";\nimport { useEvent } from '@rc-component/util';\nimport SelectInput from \"../SelectInput\";\nimport useComponents from \"../hooks/useComponents\";\n\n/**\n * ZombieJ:\n * We are currently refactoring the semantic structure of the component. Changelog:\n * - Remove `suffixIcon` and change to `suffix`.\n * - Add `components.root` for replacing response element.\n *   - Remove `getInputElement` and `getRawInputElement` since we can use `components.input` instead.\n */\n\nexport const isMultiple = mode => mode === 'tags' || mode === 'multiple';\nconst BaseSelect = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    id,\n    prefixCls,\n    className,\n    styles,\n    classNames,\n    showSearch,\n    tagRender,\n    showScrollBar = 'optional',\n    direction,\n    omitDomProps,\n    // Value\n    displayValues,\n    onDisplayValuesChange,\n    emptyOptions,\n    notFoundContent = 'Not Found',\n    onClear,\n    maxCount,\n    placeholder,\n    // Mode\n    mode,\n    // Status\n    disabled,\n    loading,\n    // Customize Input\n    getInputElement,\n    getRawInputElement,\n    // Open\n    open,\n    defaultOpen,\n    onPopupVisibleChange,\n    // Active\n    activeValue,\n    onActiveValueChange,\n    activeDescendantId,\n    // Search\n    searchValue,\n    autoClearSearchValue,\n    onSearch,\n    onSearchSplit,\n    tokenSeparators,\n    // Icons\n    allowClear,\n    prefix,\n    suffix,\n    suffixIcon,\n    clearIcon,\n    // Dropdown\n    OptionList,\n    animation,\n    transitionName,\n    popupStyle,\n    popupClassName,\n    popupMatchSelectWidth,\n    popupRender,\n    popupAlign,\n    placement,\n    builtinPlacements,\n    getPopupContainer,\n    // Focus\n    showAction = [],\n    onFocus,\n    onBlur,\n    // Rest Events\n    onKeyUp,\n    onKeyDown,\n    onMouseDown,\n    // Components\n    components,\n    // Rest Props\n    ...restProps\n  } = props;\n\n  // ============================== MISC ==============================\n  const multiple = isMultiple(mode);\n\n  // ============================== Refs ==============================\n  const containerRef = React.useRef(null);\n  const triggerRef = React.useRef(null);\n  const listRef = React.useRef(null);\n\n  /** Used for component focused management */\n  const [focused, setFocused] = React.useState(false);\n\n  // =========================== Imperative ===========================\n  React.useImperativeHandle(ref, () => ({\n    focus: containerRef.current?.focus,\n    blur: containerRef.current?.blur,\n    scrollTo: arg => listRef.current?.scrollTo(arg),\n    nativeElement: getDOM(containerRef.current)\n  }));\n\n  // =========================== Components ===========================\n  const mergedComponents = useComponents(components, getInputElement, getRawInputElement);\n\n  // ========================== Search Value ==========================\n  const mergedSearchValue = React.useMemo(() => {\n    if (mode !== 'combobox') {\n      return searchValue;\n    }\n    const val = displayValues[0]?.value;\n    return typeof val === 'string' || typeof val === 'number' ? String(val) : '';\n  }, [searchValue, mode, displayValues]);\n\n  // ========================== Custom Input ==========================\n  // Only works in `combobox`\n  const customizeInputElement = mode === 'combobox' && typeof getInputElement === 'function' && getInputElement() || null;\n\n  // ============================== Open ==============================\n  // Not trigger `open` when `notFoundContent` is empty\n  const emptyListContent = !notFoundContent && emptyOptions;\n  const [rawOpen, mergedOpen, triggerOpen, lockOptions] = useOpen(defaultOpen || false, open, onPopupVisibleChange, nextOpen => disabled || emptyListContent ? false : nextOpen);\n\n  // ============================= Search =============================\n  const tokenWithEnter = React.useMemo(() => (tokenSeparators || []).some(tokenSeparator => ['\\n', '\\r\\n'].includes(tokenSeparator)), [tokenSeparators]);\n  const onInternalSearch = (searchText, fromTyping, isCompositing) => {\n    if (multiple && isValidCount(maxCount) && displayValues.length >= maxCount) {\n      return;\n    }\n    let ret = true;\n    let newSearchText = searchText;\n    onActiveValueChange?.(null);\n    const separatedList = getSeparatedContent(searchText, tokenSeparators, isValidCount(maxCount) ? maxCount - displayValues.length : undefined);\n\n    // Check if match the `tokenSeparators`\n    const patchLabels = isCompositing ? null : separatedList;\n\n    // Ignore combobox since it's not split-able\n    if (mode !== 'combobox' && patchLabels) {\n      newSearchText = '';\n      onSearchSplit?.(patchLabels);\n\n      // Should close when paste finish\n      triggerOpen(false);\n\n      // Tell Selector that break next actions\n      ret = false;\n    }\n    if (onSearch && mergedSearchValue !== newSearchText) {\n      onSearch(newSearchText, {\n        source: fromTyping ? 'typing' : 'effect'\n      });\n    }\n\n    // Open if from typing\n    if (searchText && fromTyping && ret) {\n      triggerOpen(true);\n    }\n    return ret;\n  };\n\n  // Only triggered when menu is closed & mode is tags\n  // If menu is open, OptionList will take charge\n  // If mode isn't tags, press enter is not meaningful when you can't see any option\n  const onInternalSearchSubmit = searchText => {\n    // prevent empty tags from appearing when you click the Enter button\n    if (!searchText || !searchText.trim()) {\n      return;\n    }\n    onSearch(searchText, {\n      source: 'submit'\n    });\n  };\n\n  // Clean up search value when the dropdown is closed.\n  // We use `rawOpen` here to avoid clearing the search input when the dropdown is\n  // programmatically closed due to `notFoundContent={null}` and no matching options.\n  // This allows the user to continue typing their search query.\n  React.useEffect(() => {\n    if (!rawOpen && !multiple && mode !== 'combobox') {\n      onInternalSearch('', false, false);\n    }\n  }, [rawOpen]);\n\n  // ============================ Disabled ============================\n  // Close dropdown & remove focus state when disabled change\n  React.useEffect(() => {\n    // After onBlur is triggered, the focused does not need to be reset\n    if (disabled) {\n      triggerOpen(false);\n      setFocused(false);\n    }\n  }, [disabled, mergedOpen]);\n\n  // ============================ Keyboard ============================\n  /**\n   * We record input value here to check if can press to clean up by backspace\n   * - null: Key is not down, this is reset by key up\n   * - true: Search text is empty when first time backspace down\n   * - false: Search text is not empty when first time backspace down\n   */\n  const [getClearLock, setClearLock] = useLock();\n  const keyLockRef = React.useRef(false);\n\n  // KeyDown\n  const onInternalKeyDown = event => {\n    const clearLock = getClearLock();\n    const {\n      key\n    } = event;\n    const isEnterKey = key === 'Enter';\n    const isSpaceKey = key === ' ';\n\n    // Enter or Space opens dropdown (ARIA combobox: spacebar should open)\n    if (isEnterKey || isSpaceKey) {\n      // Do not submit form when type in the input; prevent Space from scrolling page\n      if (mode !== 'combobox') {\n        event.preventDefault();\n      }\n\n      // We only manage open state here, close logic should handle by list component\n      if (!mergedOpen) {\n        triggerOpen(true);\n      }\n    }\n    setClearLock(!!mergedSearchValue);\n\n    // Remove value by `backspace`\n    if (key === 'Backspace' && !clearLock && multiple && !mergedSearchValue && displayValues.length) {\n      const cloneDisplayValues = [...displayValues];\n      let removedDisplayValue = null;\n      for (let i = cloneDisplayValues.length - 1; i >= 0; i -= 1) {\n        const current = cloneDisplayValues[i];\n        if (!current.disabled) {\n          cloneDisplayValues.splice(i, 1);\n          removedDisplayValue = current;\n          break;\n        }\n      }\n      if (removedDisplayValue) {\n        onDisplayValuesChange(cloneDisplayValues, {\n          type: 'remove',\n          values: [removedDisplayValue]\n        });\n      }\n    }\n    if (mergedOpen && (!isEnterKey || !keyLockRef.current) && !isSpaceKey) {\n      // Lock the Enter key after it is pressed to avoid repeated triggering of the onChange event.\n      if (isEnterKey) {\n        keyLockRef.current = true;\n      }\n      listRef.current?.onKeyDown(event);\n    }\n    onKeyDown?.(event);\n  };\n\n  // KeyUp\n  const onInternalKeyUp = (event, ...rest) => {\n    if (mergedOpen) {\n      listRef.current?.onKeyUp(event, ...rest);\n    }\n    if (event.key === 'Enter') {\n      keyLockRef.current = false;\n    }\n    onKeyUp?.(event, ...rest);\n  };\n\n  // ============================ Selector ============================\n  const onSelectorRemove = useEvent(val => {\n    const newValues = displayValues.filter(i => i !== val);\n    onDisplayValuesChange(newValues, {\n      type: 'remove',\n      values: [val]\n    });\n  });\n  const onInputBlur = () => {\n    // Unlock the Enter key after the input blur; otherwise, the Enter key needs to be pressed twice to trigger the correct effect.\n    keyLockRef.current = false;\n  };\n\n  // ========================== Focus / Blur ==========================\n  const getSelectElements = () => [getDOM(containerRef.current), triggerRef.current?.getPopupElement()];\n\n  // Close when click on non-select element\n  useSelectTriggerControl(getSelectElements, mergedOpen, triggerOpen, !!mergedComponents.root);\n\n  // ========================== Focus / Blur ==========================\n  const internalMouseDownRef = React.useRef(false);\n  const onInternalFocus = event => {\n    setFocused(true);\n    if (!disabled) {\n      // `showAction` should handle `focus` if set\n      if (showAction.includes('focus')) {\n        triggerOpen(true);\n      }\n      onFocus?.(event);\n    }\n  };\n  const onRootBlur = () => {\n    // Delay close should check the activeElement\n    if (mergedOpen && !internalMouseDownRef.current) {\n      triggerOpen(false, {\n        cancelFun: () => isInside(getSelectElements(), document.activeElement)\n      });\n    }\n  };\n  const onInternalBlur = event => {\n    setFocused(false);\n    if (mergedSearchValue) {\n      // `tags` mode should move `searchValue` into values\n      if (mode === 'tags') {\n        onSearch(mergedSearchValue, {\n          source: 'submit'\n        });\n      } else if (mode === 'multiple') {\n        // `multiple` mode only clean the search value but not trigger event\n        onSearch('', {\n          source: 'blur'\n        });\n      }\n    }\n    onRootBlur();\n    if (!disabled) {\n      onBlur?.(event);\n    }\n  };\n  const onRootMouseDown = (event, ...restArgs) => {\n    const {\n      target\n    } = event;\n    const popupElement = triggerRef.current?.getPopupElement();\n\n    // We should give focus back to selector if clicked item is not focusable\n    if (popupElement?.contains(target) && triggerOpen) {\n      // Tell `open` not to close since it's safe in the popup\n      triggerOpen(true);\n    }\n    onMouseDown?.(event, ...restArgs);\n    internalMouseDownRef.current = true;\n    macroTask(() => {\n      internalMouseDownRef.current = false;\n    });\n  };\n\n  // ============================ Dropdown ============================\n  const [, forceUpdate] = React.useState({});\n  // We need force update here since popup dom is render async\n  function onPopupMouseEnter() {\n    forceUpdate({});\n  }\n\n  // Used for raw custom input trigger\n  let onTriggerVisibleChange;\n  if (!!mergedComponents.root) {\n    onTriggerVisibleChange = newOpen => {\n      triggerOpen(newOpen);\n    };\n  }\n\n  // ============================ Context =============================\n  const baseSelectContext = React.useMemo(() => ({\n    ...props,\n    notFoundContent,\n    open: mergedOpen,\n    triggerOpen: mergedOpen,\n    rawOpen,\n    id,\n    showSearch,\n    multiple,\n    toggleOpen: triggerOpen,\n    showScrollBar,\n    styles,\n    classNames,\n    lockOptions\n  }), [props, notFoundContent, triggerOpen, id, showSearch, multiple, mergedOpen, rawOpen, showScrollBar, styles, classNames, lockOptions]);\n\n  // ==================================================================\n  // ==                            Render                            ==\n  // ==================================================================\n\n  // ============================= Suffix =============================\n  const mergedSuffixIcon = React.useMemo(() => {\n    const nextSuffix = suffix ?? suffixIcon;\n    if (typeof nextSuffix === 'function') {\n      return nextSuffix({\n        searchValue: mergedSearchValue,\n        open: mergedOpen,\n        focused,\n        showSearch,\n        loading\n      });\n    }\n    return nextSuffix;\n  }, [suffix, suffixIcon, mergedSearchValue, mergedOpen, focused, showSearch, loading]);\n\n  // ============================= Clear ==============================\n  const onClearMouseDown = () => {\n    onClear?.();\n    containerRef.current?.focus();\n    onDisplayValuesChange([], {\n      type: 'clear',\n      values: displayValues\n    });\n    onInternalSearch('', false, false);\n  };\n  const {\n    allowClear: mergedAllowClear,\n    clearIcon: clearNode\n  } = useAllowClear(prefixCls, displayValues, allowClear, clearIcon, disabled, mergedSearchValue, mode);\n\n  // =========================== OptionList ===========================\n  const optionList = /*#__PURE__*/React.createElement(OptionList, {\n    ref: listRef\n  });\n\n  // ============================= Select =============================\n  const mergedClassName = clsx(prefixCls, className, {\n    [`${prefixCls}-focused`]: focused,\n    [`${prefixCls}-multiple`]: multiple,\n    [`${prefixCls}-single`]: !multiple,\n    [`${prefixCls}-allow-clear`]: mergedAllowClear,\n    [`${prefixCls}-show-arrow`]: mergedSuffixIcon !== undefined && mergedSuffixIcon !== null,\n    [`${prefixCls}-disabled`]: disabled,\n    [`${prefixCls}-loading`]: loading,\n    [`${prefixCls}-open`]: mergedOpen,\n    [`${prefixCls}-customize-input`]: customizeInputElement,\n    [`${prefixCls}-show-search`]: showSearch\n  });\n\n  // >>> Render\n  let renderNode = /*#__PURE__*/React.createElement(SelectInput, _extends({}, restProps, {\n    // Ref\n    ref: containerRef\n    // Style\n    ,\n    prefixCls: prefixCls,\n    className: mergedClassName\n    // Focus state\n    ,\n    focused: focused\n    // UI\n    ,\n    prefix: prefix,\n    suffix: mergedSuffixIcon,\n    clearIcon: clearNode\n    // Type or mode\n    ,\n    multiple: multiple,\n    mode: mode\n    // Values\n    ,\n    displayValues: displayValues,\n    placeholder: placeholder,\n    searchValue: mergedSearchValue,\n    activeValue: activeValue,\n    onSearch: onInternalSearch,\n    onSearchSubmit: onInternalSearchSubmit,\n    onInputBlur: onInputBlur,\n    onFocus: onInternalFocus,\n    onBlur: onInternalBlur,\n    onClearMouseDown: onClearMouseDown,\n    onKeyDown: onInternalKeyDown,\n    onKeyUp: onInternalKeyUp,\n    onSelectorRemove: onSelectorRemove\n    // Token handling\n    ,\n    tokenWithEnter: tokenWithEnter\n    // Open\n    ,\n    onMouseDown: onRootMouseDown\n    // Components\n    ,\n    components: mergedComponents\n  }));\n  renderNode = /*#__PURE__*/React.createElement(SelectTrigger, {\n    ref: triggerRef,\n    disabled: disabled,\n    prefixCls: prefixCls,\n    visible: mergedOpen,\n    popupElement: optionList,\n    animation: animation,\n    transitionName: transitionName,\n    popupStyle: popupStyle,\n    popupClassName: popupClassName,\n    direction: direction,\n    popupMatchSelectWidth: popupMatchSelectWidth,\n    popupRender: popupRender,\n    popupAlign: popupAlign,\n    placement: placement,\n    builtinPlacements: builtinPlacements,\n    getPopupContainer: getPopupContainer,\n    empty: emptyOptions,\n    onPopupVisibleChange: onTriggerVisibleChange,\n    onPopupMouseEnter: onPopupMouseEnter,\n    onPopupMouseDown: onRootMouseDown,\n    onPopupBlur: onRootBlur\n  }, renderNode);\n  return /*#__PURE__*/React.createElement(BaseSelectContext.Provider, {\n    value: baseSelectContext\n  }, /*#__PURE__*/React.createElement(Polite, {\n    visible: focused && !mergedOpen,\n    values: displayValues\n  }), renderNode);\n});\n\n// Set display name for dev\nif (process.env.NODE_ENV !== 'production') {\n  BaseSelect.displayName = 'BaseSelect';\n}\nexport default BaseSelect;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}