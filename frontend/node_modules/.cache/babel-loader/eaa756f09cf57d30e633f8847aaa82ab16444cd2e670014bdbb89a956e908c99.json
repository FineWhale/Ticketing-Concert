{"ast":null,"code":"import * as React from 'react';\nimport { observe, unobserve } from \"./utils/observerUtil\";\nimport { useEvent } from '@rc-component/util';\nexport default function useResizeObserver(enabled, getTarget, onDelayResize, onSyncResize) {\n  // ============================= Size =============================\n  const sizeRef = React.useRef({\n    width: -1,\n    height: -1,\n    offsetWidth: -1,\n    offsetHeight: -1\n  });\n\n  // =========================== Observe ============================\n\n  // Handler\n  const onInternalResize = useEvent(target => {\n    const {\n      width,\n      height\n    } = target.getBoundingClientRect();\n    const {\n      offsetWidth,\n      offsetHeight\n    } = target;\n\n    /**\n     * Resize observer trigger when content size changed.\n     * In most case we just care about element size,\n     * let's use `boundary` instead of `contentRect` here to avoid shaking.\n     */\n    const fixedWidth = Math.floor(width);\n    const fixedHeight = Math.floor(height);\n    if (sizeRef.current.width !== fixedWidth || sizeRef.current.height !== fixedHeight || sizeRef.current.offsetWidth !== offsetWidth || sizeRef.current.offsetHeight !== offsetHeight) {\n      const size = {\n        width: fixedWidth,\n        height: fixedHeight,\n        offsetWidth,\n        offsetHeight\n      };\n      sizeRef.current = size;\n\n      // IE is strange, right?\n      const mergedOffsetWidth = offsetWidth === Math.round(width) ? width : offsetWidth;\n      const mergedOffsetHeight = offsetHeight === Math.round(height) ? height : offsetHeight;\n      const sizeInfo = {\n        ...size,\n        offsetWidth: mergedOffsetWidth,\n        offsetHeight: mergedOffsetHeight\n      };\n\n      // Call the callback immediately, let the caller decide whether to defer\n      // onResize(sizeInfo, target);\n      onSyncResize?.(sizeInfo, target);\n\n      // defer the callback but not defer to next frame\n      Promise.resolve().then(() => {\n        onDelayResize?.(sizeInfo, target);\n      });\n    }\n  });\n\n  // Dynamic observe\n  const isFuncTarget = typeof getTarget === 'function';\n  React.useEffect(() => {\n    const target = isFuncTarget ? getTarget() : getTarget;\n    if (target && enabled) {\n      observe(target, onInternalResize);\n    }\n    return () => {\n      if (target) {\n        unobserve(target, onInternalResize);\n      }\n    };\n  }, [enabled,\n  // When is function, no need to watch it\n  isFuncTarget ? 0 : getTarget]);\n}","map":{"version":3,"names":["React","observe","unobserve","useEvent","useResizeObserver","enabled","getTarget","onDelayResize","onSyncResize","sizeRef","useRef","width","height","offsetWidth","offsetHeight","onInternalResize","target","getBoundingClientRect","fixedWidth","Math","floor","fixedHeight","current","size","mergedOffsetWidth","round","mergedOffsetHeight","sizeInfo","Promise","resolve","then","isFuncTarget","useEffect"],"sources":["D:/ZSM/beachboys-concert/frontend/node_modules/@rc-component/resize-observer/es/useResizeObserver.js"],"sourcesContent":["import * as React from 'react';\nimport { observe, unobserve } from \"./utils/observerUtil\";\nimport { useEvent } from '@rc-component/util';\nexport default function useResizeObserver(enabled, getTarget, onDelayResize, onSyncResize) {\n  // ============================= Size =============================\n  const sizeRef = React.useRef({\n    width: -1,\n    height: -1,\n    offsetWidth: -1,\n    offsetHeight: -1\n  });\n\n  // =========================== Observe ============================\n\n  // Handler\n  const onInternalResize = useEvent(target => {\n    const {\n      width,\n      height\n    } = target.getBoundingClientRect();\n    const {\n      offsetWidth,\n      offsetHeight\n    } = target;\n\n    /**\n     * Resize observer trigger when content size changed.\n     * In most case we just care about element size,\n     * let's use `boundary` instead of `contentRect` here to avoid shaking.\n     */\n    const fixedWidth = Math.floor(width);\n    const fixedHeight = Math.floor(height);\n    if (sizeRef.current.width !== fixedWidth || sizeRef.current.height !== fixedHeight || sizeRef.current.offsetWidth !== offsetWidth || sizeRef.current.offsetHeight !== offsetHeight) {\n      const size = {\n        width: fixedWidth,\n        height: fixedHeight,\n        offsetWidth,\n        offsetHeight\n      };\n      sizeRef.current = size;\n\n      // IE is strange, right?\n      const mergedOffsetWidth = offsetWidth === Math.round(width) ? width : offsetWidth;\n      const mergedOffsetHeight = offsetHeight === Math.round(height) ? height : offsetHeight;\n      const sizeInfo = {\n        ...size,\n        offsetWidth: mergedOffsetWidth,\n        offsetHeight: mergedOffsetHeight\n      };\n\n      // Call the callback immediately, let the caller decide whether to defer\n      // onResize(sizeInfo, target);\n      onSyncResize?.(sizeInfo, target);\n\n      // defer the callback but not defer to next frame\n      Promise.resolve().then(() => {\n        onDelayResize?.(sizeInfo, target);\n      });\n    }\n  });\n\n  // Dynamic observe\n  const isFuncTarget = typeof getTarget === 'function';\n  React.useEffect(() => {\n    const target = isFuncTarget ? getTarget() : getTarget;\n    if (target && enabled) {\n      observe(target, onInternalResize);\n    }\n    return () => {\n      if (target) {\n        unobserve(target, onInternalResize);\n      }\n    };\n  }, [enabled,\n  // When is function, no need to watch it\n  isFuncTarget ? 0 : getTarget]);\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,OAAO,EAAEC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,eAAe,SAASC,iBAAiBA,CAACC,OAAO,EAAEC,SAAS,EAAEC,aAAa,EAAEC,YAAY,EAAE;EACzF;EACA,MAAMC,OAAO,GAAGT,KAAK,CAACU,MAAM,CAAC;IAC3BC,KAAK,EAAE,CAAC,CAAC;IACTC,MAAM,EAAE,CAAC,CAAC;IACVC,WAAW,EAAE,CAAC,CAAC;IACfC,YAAY,EAAE,CAAC;EACjB,CAAC,CAAC;;EAEF;;EAEA;EACA,MAAMC,gBAAgB,GAAGZ,QAAQ,CAACa,MAAM,IAAI;IAC1C,MAAM;MACJL,KAAK;MACLC;IACF,CAAC,GAAGI,MAAM,CAACC,qBAAqB,CAAC,CAAC;IAClC,MAAM;MACJJ,WAAW;MACXC;IACF,CAAC,GAAGE,MAAM;;IAEV;AACJ;AACA;AACA;AACA;IACI,MAAME,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACT,KAAK,CAAC;IACpC,MAAMU,WAAW,GAAGF,IAAI,CAACC,KAAK,CAACR,MAAM,CAAC;IACtC,IAAIH,OAAO,CAACa,OAAO,CAACX,KAAK,KAAKO,UAAU,IAAIT,OAAO,CAACa,OAAO,CAACV,MAAM,KAAKS,WAAW,IAAIZ,OAAO,CAACa,OAAO,CAACT,WAAW,KAAKA,WAAW,IAAIJ,OAAO,CAACa,OAAO,CAACR,YAAY,KAAKA,YAAY,EAAE;MAClL,MAAMS,IAAI,GAAG;QACXZ,KAAK,EAAEO,UAAU;QACjBN,MAAM,EAAES,WAAW;QACnBR,WAAW;QACXC;MACF,CAAC;MACDL,OAAO,CAACa,OAAO,GAAGC,IAAI;;MAEtB;MACA,MAAMC,iBAAiB,GAAGX,WAAW,KAAKM,IAAI,CAACM,KAAK,CAACd,KAAK,CAAC,GAAGA,KAAK,GAAGE,WAAW;MACjF,MAAMa,kBAAkB,GAAGZ,YAAY,KAAKK,IAAI,CAACM,KAAK,CAACb,MAAM,CAAC,GAAGA,MAAM,GAAGE,YAAY;MACtF,MAAMa,QAAQ,GAAG;QACf,GAAGJ,IAAI;QACPV,WAAW,EAAEW,iBAAiB;QAC9BV,YAAY,EAAEY;MAChB,CAAC;;MAED;MACA;MACAlB,YAAY,GAAGmB,QAAQ,EAAEX,MAAM,CAAC;;MAEhC;MACAY,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;QAC3BvB,aAAa,GAAGoB,QAAQ,EAAEX,MAAM,CAAC;MACnC,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;;EAEF;EACA,MAAMe,YAAY,GAAG,OAAOzB,SAAS,KAAK,UAAU;EACpDN,KAAK,CAACgC,SAAS,CAAC,MAAM;IACpB,MAAMhB,MAAM,GAAGe,YAAY,GAAGzB,SAAS,CAAC,CAAC,GAAGA,SAAS;IACrD,IAAIU,MAAM,IAAIX,OAAO,EAAE;MACrBJ,OAAO,CAACe,MAAM,EAAED,gBAAgB,CAAC;IACnC;IACA,OAAO,MAAM;MACX,IAAIC,MAAM,EAAE;QACVd,SAAS,CAACc,MAAM,EAAED,gBAAgB,CAAC;MACrC;IACF,CAAC;EACH,CAAC,EAAE,CAACV,OAAO;EACX;EACA0B,YAAY,GAAG,CAAC,GAAGzB,SAAS,CAAC,CAAC;AAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}