{"ast":null,"code":"function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport * as React from 'react';\nimport useForm from \"./hooks/useForm\";\nimport FieldContext, { HOOK_MARK } from \"./FieldContext\";\nimport FormContext from \"./FormContext\";\nimport { isSimilar } from \"./utils/valueUtil\";\nimport ListContext from \"./ListContext\";\nconst Form = ({\n  name,\n  initialValues,\n  fields,\n  form,\n  preserve,\n  children,\n  component: Component = 'form',\n  validateMessages,\n  validateTrigger = 'onChange',\n  onValuesChange,\n  onFieldsChange,\n  onFinish,\n  onFinishFailed,\n  clearOnDestroy,\n  ...restProps\n}, ref) => {\n  const nativeElementRef = React.useRef(null);\n  const formContext = React.useContext(FormContext);\n\n  // We customize handle event since Context will makes all the consumer re-render:\n  // https://reactjs.org/docs/context.html#contextprovider\n  const [formInstance] = useForm(form);\n  const {\n    useSubscribe,\n    setInitialValues,\n    setCallbacks,\n    setValidateMessages,\n    setPreserve,\n    destroyForm\n  } = formInstance.getInternalHooks(HOOK_MARK);\n\n  // Pass ref with form instance\n  React.useImperativeHandle(ref, () => ({\n    ...formInstance,\n    nativeElement: nativeElementRef.current\n  }));\n\n  // Register form into Context\n  React.useEffect(() => {\n    formContext.registerForm(name, formInstance);\n    return () => {\n      formContext.unregisterForm(name);\n    };\n  }, [formContext, formInstance, name]);\n\n  // Pass props to store\n  setValidateMessages({\n    ...formContext.validateMessages,\n    ...validateMessages\n  });\n  setCallbacks({\n    onValuesChange,\n    onFieldsChange: (changedFields, ...rest) => {\n      formContext.triggerFormChange(name, changedFields);\n      if (onFieldsChange) {\n        onFieldsChange(changedFields, ...rest);\n      }\n    },\n    onFinish: values => {\n      formContext.triggerFormFinish(name, values);\n      if (onFinish) {\n        onFinish(values);\n      }\n    },\n    onFinishFailed\n  });\n  setPreserve(preserve);\n\n  // Set initial value, init store value when first mount\n  const mountRef = React.useRef(null);\n  setInitialValues(initialValues, !mountRef.current);\n  if (!mountRef.current) {\n    mountRef.current = true;\n  }\n\n  // ========================== Unmount ===========================\n  React.useEffect(() => () => destroyForm(clearOnDestroy),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n\n  // Prepare children by `children` type\n  let childrenNode;\n  const childrenRenderProps = typeof children === 'function';\n  if (childrenRenderProps) {\n    const values = formInstance.getFieldsValue(true);\n    childrenNode = children(values, formInstance);\n  } else {\n    childrenNode = children;\n  }\n\n  // Not use subscribe when using render props\n  useSubscribe(!childrenRenderProps);\n\n  // Listen if fields provided. We use ref to save prev data here to avoid additional render\n  const prevFieldsRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!isSimilar(prevFieldsRef.current || [], fields || [])) {\n      formInstance.setFields(fields || []);\n    }\n    prevFieldsRef.current = fields;\n  }, [fields, formInstance]);\n\n  // =========================== Render ===========================\n  const formContextValue = React.useMemo(() => ({\n    ...formInstance,\n    validateTrigger\n  }), [formInstance, validateTrigger]);\n  const wrapperNode = /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(FieldContext.Provider, {\n    value: formContextValue\n  }, childrenNode));\n  if (Component === false) {\n    return wrapperNode;\n  }\n  return /*#__PURE__*/React.createElement(Component, _extends({}, restProps, {\n    ref: nativeElementRef,\n    onSubmit: event => {\n      event.preventDefault();\n      event.stopPropagation();\n      formInstance.submit();\n    },\n    onReset: event => {\n      event.preventDefault();\n      formInstance.resetFields();\n      restProps.onReset?.(event);\n    }\n  }), wrapperNode);\n};\nexport default Form;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useForm","FieldContext","HOOK_MARK","FormContext","isSimilar","ListContext","Form","name","initialValues","fields","form","preserve","children","component","Component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy","restProps","ref","nativeElementRef","useRef","formContext","useContext","formInstance","useSubscribe","setInitialValues","setCallbacks","setValidateMessages","setPreserve","destroyForm","getInternalHooks","useImperativeHandle","nativeElement","current","useEffect","registerForm","unregisterForm","changedFields","rest","triggerFormChange","values","triggerFormFinish","mountRef","childrenNode","childrenRenderProps","getFieldsValue","prevFieldsRef","setFields","formContextValue","useMemo","wrapperNode","createElement","Provider","value","onSubmit","event","preventDefault","stopPropagation","submit","onReset","resetFields"],"sources":["D:/ZSM/beachboys-concert/frontend/node_modules/@rc-component/form/es/Form.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from 'react';\nimport useForm from \"./hooks/useForm\";\nimport FieldContext, { HOOK_MARK } from \"./FieldContext\";\nimport FormContext from \"./FormContext\";\nimport { isSimilar } from \"./utils/valueUtil\";\nimport ListContext from \"./ListContext\";\nconst Form = ({\n  name,\n  initialValues,\n  fields,\n  form,\n  preserve,\n  children,\n  component: Component = 'form',\n  validateMessages,\n  validateTrigger = 'onChange',\n  onValuesChange,\n  onFieldsChange,\n  onFinish,\n  onFinishFailed,\n  clearOnDestroy,\n  ...restProps\n}, ref) => {\n  const nativeElementRef = React.useRef(null);\n  const formContext = React.useContext(FormContext);\n\n  // We customize handle event since Context will makes all the consumer re-render:\n  // https://reactjs.org/docs/context.html#contextprovider\n  const [formInstance] = useForm(form);\n  const {\n    useSubscribe,\n    setInitialValues,\n    setCallbacks,\n    setValidateMessages,\n    setPreserve,\n    destroyForm\n  } = formInstance.getInternalHooks(HOOK_MARK);\n\n  // Pass ref with form instance\n  React.useImperativeHandle(ref, () => ({\n    ...formInstance,\n    nativeElement: nativeElementRef.current\n  }));\n\n  // Register form into Context\n  React.useEffect(() => {\n    formContext.registerForm(name, formInstance);\n    return () => {\n      formContext.unregisterForm(name);\n    };\n  }, [formContext, formInstance, name]);\n\n  // Pass props to store\n  setValidateMessages({\n    ...formContext.validateMessages,\n    ...validateMessages\n  });\n  setCallbacks({\n    onValuesChange,\n    onFieldsChange: (changedFields, ...rest) => {\n      formContext.triggerFormChange(name, changedFields);\n      if (onFieldsChange) {\n        onFieldsChange(changedFields, ...rest);\n      }\n    },\n    onFinish: values => {\n      formContext.triggerFormFinish(name, values);\n      if (onFinish) {\n        onFinish(values);\n      }\n    },\n    onFinishFailed\n  });\n  setPreserve(preserve);\n\n  // Set initial value, init store value when first mount\n  const mountRef = React.useRef(null);\n  setInitialValues(initialValues, !mountRef.current);\n  if (!mountRef.current) {\n    mountRef.current = true;\n  }\n\n  // ========================== Unmount ===========================\n  React.useEffect(() => () => destroyForm(clearOnDestroy),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n\n  // Prepare children by `children` type\n  let childrenNode;\n  const childrenRenderProps = typeof children === 'function';\n  if (childrenRenderProps) {\n    const values = formInstance.getFieldsValue(true);\n    childrenNode = children(values, formInstance);\n  } else {\n    childrenNode = children;\n  }\n\n  // Not use subscribe when using render props\n  useSubscribe(!childrenRenderProps);\n\n  // Listen if fields provided. We use ref to save prev data here to avoid additional render\n  const prevFieldsRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!isSimilar(prevFieldsRef.current || [], fields || [])) {\n      formInstance.setFields(fields || []);\n    }\n    prevFieldsRef.current = fields;\n  }, [fields, formInstance]);\n\n  // =========================== Render ===========================\n  const formContextValue = React.useMemo(() => ({\n    ...formInstance,\n    validateTrigger\n  }), [formInstance, validateTrigger]);\n  const wrapperNode = /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(FieldContext.Provider, {\n    value: formContextValue\n  }, childrenNode));\n  if (Component === false) {\n    return wrapperNode;\n  }\n  return /*#__PURE__*/React.createElement(Component, _extends({}, restProps, {\n    ref: nativeElementRef,\n    onSubmit: event => {\n      event.preventDefault();\n      event.stopPropagation();\n      formInstance.submit();\n    },\n    onReset: event => {\n      event.preventDefault();\n      formInstance.resetFields();\n      restProps.onReset?.(event);\n    }\n  }), wrapperNode);\n};\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}